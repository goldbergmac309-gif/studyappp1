# Core Service Environment Example
# Copy this file to .env and adjust values for your environment.

# Database
DATABASE_URL="postgresql://postgres:postgres@localhost:5544/studyapp_dev?schema=public"

# Auth / Security
JWT_SECRET=change-me-jwt-secret
INTERNAL_API_KEY=change-me-internal-api-key
COOKIE_SECRET=change-me-cookie-secret

# Engine and Search (SSOT for magic numbers)
ENGINE_DIM=1536
SEARCH_MAX_OFFSET=10000

# S3 / MinIO
AWS_REGION=us-east-1
AWS_S3_BUCKET=studyapp-docs
# For local development with MinIO, set an endpoint (development path auto-creates bucket)
AWS_S3_ENDPOINT=http://localhost:9200
AWS_S3_FORCE_PATH_STYLE=true
AWS_ACCESS_KEY_ID=minio
AWS_SECRET_ACCESS_KEY=minio123

# RabbitMQ
RABBITMQ_URL=amqp://localhost:5672
RABBITMQ_QUEUE_NAME=document_processing_jobs
RABBITMQ_REINDEX_QUEUE_NAME=v2_reindexing_jobs

# Oracle Embed (local dev)
ORACLE_EMBED_URL=http://localhost:8000
ORACLE_EMBED_CONNECT_TIMEOUT_MS=3000
ORACLE_EMBED_READ_TIMEOUT_MS=7000

# Upload Constraints
# Default is 20MB if unset; override for local testing as needed
UPLOAD_MAX_FILE_SIZE_BYTES=20971520

# ClamAV (Malware Scanning)
# Enable to require live scanning via clamd. In tests, scanning is disabled by default.
CLAMAV_ENABLED=true
CLAMAV_HOST=localhost
CLAMAV_PORT=3310
CLAMAV_CONNECT_TIMEOUT_MS=3000
CLAMAV_READ_TIMEOUT_MS=10000
